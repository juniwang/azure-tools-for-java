<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="../../../../../static/jquery-2.2.3.min.js"></script>
    <!--<script src="sparkjobview.js"></script>
    <script src="common.js"></script>-->
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.11.4/jquery-ui.js"></script>
    <!--<link rel="stylesheet" href="static/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/vis.min.css" type="text/css" />
    <link rel="stylesheet" href="static/webui.css" type="text/css" />
    <link rel="stylesheet" href="static/timeline-view.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="indexpage.css">
    <script src="static/sorttable.js"></script>
    <script src="static/vis.min.js"></script>
    <script src="static/bootstrap-tooltip.js"></script>
    <script src="static/initialize-tooltips.js"></script>
    <script src="static/table.js"></script>
    <script src="static/additional-metrics.js"></script>
    <script src="static/timeline-view.js"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!--
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="static/jobview/dagre-d3/dist/dagre-d3.js"></script>-->
    <script src="http://cpettitt.github.io/project/dagre-d3/latest/dagre-d3.min.js"></script>
    <!--<script src="static/jobview/d3/d3.min.js"></script>-->
    <script>
        $(function() {
            $('#myTab li:eq(1) a').tab('show');

            var g = new dagre.graphlib.Graph();

            // Set an object for the graph label
            g.setGraph({});

            // Default to assigning a new object as a label for each new edge.
            g.setDefaultEdgeLabel(function() {
                return {};
            });

            // Add nodes to the graph. The first argument is the node id. The second is
            // metadata about the node. In this case we're going to add labels to each of
            // our nodes.
            g.setNode("kspacey", {
                label: "Kevin Spacey",
                width: 144,
                height: 100
            });
            g.setNode("swilliams", {
                label: "Saul Williams",
                width: 160,
                height: 100
            });
            g.setNode("bpitt", {
                label: "Brad Pitt",
                width: 108,
                height: 100
            });
            g.setNode("hford", {
                label: "Harrison Ford",
                width: 168,
                height: 100
            });
            g.setNode("lwilson", {
                label: "Luke Wilson",
                width: 144,
                height: 100
            });
            g.setNode("kbacon", {
                label: "Kevin Bacon",
                width: 121,
                height: 100
            });

            // Add edges to the graph.
            g.setEdge("kspacey", "swilliams");
            g.setEdge("swilliams", "kbacon");
            g.setEdge("bpitt", "kbacon");
            g.setEdge("hford", "lwilson");
            g.setEdge("lwilson", "kbacon");

            // Create the renderer
            var render = new dagreD3.render();

            // Set up an SVG group so that we can translate the final graph.
            var svg = d3.select("svg"),
                svgGroup = svg.append("g");

            // Run the renderer. This is what draws the final graph.
            render(d3.select("svg g"), g);

            // Center the graph
            var xCenterOffset = (svg.attr("width") - g.graph().width) / 2;
            svgGroup.attr("transform", "translate(" + xCenterOffset + ", 20)");
            svg.attr("height", g.graph().height + 40);
        });
    </script>
</head>

<body>
    <div id="bodydiv" class="row">
    </div>
    <div id="leftDiv" class="ui-widget-content col-md-4">
        <p id="htitle"><strong>Spark Job History</strong></p>
        <div id="tableDIv" class="ui-widget-content">
            <table id="myTable" class="table table-bordered table-condensed table-striped sortable ui-widget-content">
                <thead class="ui-widget-content">
                    <tr align="center" class="ui-widget-content">
                        <th class="ui-widget-content">State</th>
                        <th class="ui-widget-content">Job Name</th>
                        <th class="ui-widget-content">Application ID</th>
                    </tr>
                </thead>
                <tbody id="JobHistoryTbody" class="ui-widget-content">
                    <tr class="ui-widget-content"></tr>
                </tbody>
            </table>
            <p>Queue Name: default Running: X Queue: Y</p>
        </div>

    </div>
    <div id="rightDiv" class="col-md-8">
        <div id="rightButtonPanel">
            <button id="refreshButtion">Refresh</button>
            <button id="openSparkUIButton">Open Spark History UI</button>
            <button id="openYarnUIButton">Open Yarn UI</button>
        </div>
        <hr class="rightPanelhr">
        <div id="jobViewPanel" class="row">
            <div id="jobSummary" class="col-md-4 lead">
                <p>details</p>
                <svg id="svg" width=960 height=600></svg>
                <p>
                    <button type="button" class="btn btn-default"><a>Livy Log</a></a></button>
                    <button type="button" class="btn btn-default"><a>Spark Event Log</a></button>
                </p>
            </div>
            <div id="jobDetailDiv" class="col-md-8">
                <div id="basicInformationDIv" class="well">
                    <table id="basicInformationTable">
                        <thead>
                            <tr>
                                <td colspan="2">Basic Job Information</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <p style="margin-left:20px;">Job Started Time:</p>
                                </td>
                                <td id="startTime"></td>
                            </tr>
                            <tr>
                                <td>
                                    <p style="margin-left:20px;">Job Ended Time:</p>
                                </td>
                                <td id="endTime"></td>
                            </tr>
                            <tr>
                                <td>
                                    <p style="margin-left:20px;margin-bottom:0px;">AM Container Number:</p>
                                </td>
                                <td id="containerNumber"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <ul id="myTab" class="nav nav-tabs">
                    <li class="active"><a href="#error" data-toggle="tab">Error</a></li>
                    <li><a href="#driverLog" data-toggle="tab">Driver Log</a></li>
                    <li><a href="#jobGraph" data-toggle="tab">Job Graph</a></li>
                    <li><a href="#taskSummary" data-toggle="tab">Task Summary</a></li>
                    <li><a href="#output" data-toggle="tab">OutPut</a></li>
                    <li><a href="#storedRDD" data-toggle="tab">Stored RDD</a></li>
                    <!--<li class="dropdown">-->
                    <!--<a href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b>-->
                    <!--</a>-->
                    <!--<ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1">-->
                    <!--<li><a href="#jmeter" tabindex="-1" data-toggle="tab">-->
                    <!--jmeter</a>-->
                    <!--</li>-->
                    <!--<li><a href="#ejb" tabindex="-1" data-toggle="tab">-->
                    <!--ejb</a>-->
                    <!--</li>-->
                    <!--</ul>-->
                    <!--</li>-->
                </ul>

                <div id="myTabContent" class="tab-content">
                    <div class="tab-pane fade in active" id="error">
                        <textarea id="errorMessage" rows="5" readonly="readonly" class="resultTextArea"></textarea>
                    </div>
                    <div class="tab-pane fade" id="driverLog">
                        <textarea id="sparkDriverLog" rows="10" readonly="readonly" class="resultTextArea">
					</textarea>
                    </div>
                    <div class="tab-pane fade" id="jobGraph">
                        <p>Job Graph Test</p>
                    </div>
                    <div class="tab-pane fade" id="taskSummary">
                        <p>Task Summary Test</p>
                    </div>
                    <div class="tab-pane fade" id="output">
                        <p>Output Test</p>
                    </div>
                    <div class="tab-pane fade" id="storedRDD">
                        <p>Stored RDD Test</p>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <!--<div id="jobDetailDiv">-->
    <!--<div id="errorMessageDiv" class="well">-->

    <!--</div>-->
    <!--<div id="JobOutputDiv" class="well">-->
    <!--<h2 style="margin:10px 0 0 0;">Job Output</h2>-->
    <!--<textarea id="jobOutput" rows="10" readonly="readonly" class="resultTextArea"></textarea>-->
    <!--</div>-->
    <!--<div id="LibyJobLogsDiv" class="well">-->
    <!--<h2 style="margin:10px 0 0 0;">Livy Job Logs</h2>-->
    <!--<textarea id="livyJobLog" rows="10" readonly="readonly" class="resultTextArea">	-->
    <!--</textarea>-->
    <!--</div>-->
    <!--<div id="SparkDriverLogDiv" class="well">-->

    <!--</div>-->
    </div>

    </div>
    </div>

</body>

</html>